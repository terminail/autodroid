# Features

## Wifi 局域网内扫描发现服务器
根据手机开启wifi情况下，自动扫描局域网内的服务器，自动根据连接的wifi网络，扫描出可以连接的服务器。具体实现如下：
1. 检查手机是否开启wifi功能。如果没有开启，提示用户开启wifi功能，转到手机系统WiFi开启设置界面。
2. 如果wifi功能已开启，首先尝试连接数据库中已保存的服务器：
    1. 从数据库中获取所有已保存的服务器信息。
    2. 依次尝试访问每个服务器的API端点。
    3. 如果找到可用的服务器，直接连接并更新服务器信息。
    4. 如果所有已保存的服务器都不可用，则启动局域网扫描。
3. 启动局域网扫描，扫描局域网内的服务器。具体实现如下：
    1. 获取当前连接的wifi网络SSID。
    2. 扫描局域网内的所有IP地址。
    3. 对每个IP地址，发送一个ICMP请求包（也称为ping请求）。
    4. 如果收到ICMP回复包（也称为ping回复），则认为该IP地址对应的设备可能是一个服务器。
4. 根据扫描到的可能服务器的IP地址，筛选出可以连接的服务器。具体实现如下：
    1. 对每个可能的服务器IP地址，从端口8000开始直至端口9000，访问api：`http://<IP地址>:<端口>/api/server`。
    2. 如果收到HTTP 200响应包，则认为该<IP地址>:<端口>对应的设备就是要找的服务器，记录下该IP地址和端口号。
5. 在扫描过程中，实时显示扫描进度和结果。
    1. 访问api：`http://<IP地址>:<端口>/api/server`
    2. 每访问一次api，就显示一次扫描结果，包括IP地址、端口号、返回成功与否信息，并更新DashboardViewModel，以便ItemServer订阅显示扫描进度信息在应用界面上。
    3. 访问api成功返回，立即停止扫描，将获取到的服务器信息保存到数据库。
    4. 支持暂停/恢复扫描功能：用户可以通过点击自动扫描按钮来暂停正在进行的扫描，再次点击可以恢复扫描。扫描状态会在界面上实时显示。
    